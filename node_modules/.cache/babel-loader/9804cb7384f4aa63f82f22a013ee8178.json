{"ast":null,"code":"var _jsxFileName = \"/Users/Mauricio/Documents/Bedu/react-project/react-project/src/components/todosPage2.js\";\nimport React from \"react\";\nimport AddToDo from './addToDo';\nimport Row from './row';\nvar headers = {\n  \"Content-Type\": \"application/json\",\n  \"Access-Control-Origin\": \"*\"\n};\n\nclass TodosPage2 extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      data: []\n    };\n\n    this.getTodos = initialCall => {\n      fetch(\"https://todo-checkpoint-api.herokuapp.com/api/todos/mauricio\", {\n        method: \"GET\",\n        headers: headers\n      }).then(res => res.json()).then(data => {\n        //add the data to component state\n        this.setState({\n          data\n        });\n      });\n    };\n\n    this.setText = e => {\n      this.setState({\n        textValue: e.target.value\n      });\n    };\n\n    this.addNew = () => {\n      var data = {\n        \"title\": this.state.textValue,\n        \"checked\": \"false\"\n      };\n      fetch(\"https://todo-checkpoint-api.herokuapp.com/api/todos/mauricio\", {\n        method: \"POST\",\n        headers: headers,\n        body: JSON.stringify(data)\n      }).then(function (response) {\n        return response.json();\n      }).then(function (data) {\n        console.log(data);\n      });\n    };\n\n    this.state = {\n      data: [],\n      textValue: ''\n    };\n  }\n\n  componentDidUpdate(prevProps, prevState) {\n    // if(prevState.data !== this.state.data) {\n    //     this.getTodos()\n    // }\n    console.log(\"this.state: \", this.state);\n    console.log(\"prevState: \", prevState);\n  }\n\n  componentDidMount() {\n    console.log('DidMount');\n    this.getTodos();\n  }\n\n  render() {\n    console.log(\"this.state: \", this.state); //when data loads, your component will render the rows of the data using array.map()\n\n    return React.createElement(\"div\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 78\n      },\n      __self: this\n    }, React.createElement(AddToDo, {\n      textValue: this.state.textValue,\n      addTodo: this.addNew,\n      setText: this.setText,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 79\n      },\n      __self: this\n    }), React.createElement(\"br\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 80\n      },\n      __self: this\n    }), this.state.data.map((row, i) => React.createElement(Row, {\n      id1: row._id,\n      text11: row.title,\n      isChecked: row.checked,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 81\n      },\n      __self: this\n    })));\n  }\n\n}\n\nexport default TodosPage2;","map":{"version":3,"sources":["/Users/Mauricio/Documents/Bedu/react-project/react-project/src/components/todosPage2.js"],"names":["React","AddToDo","Row","headers","TodosPage2","Component","constructor","props","state","data","getTodos","initialCall","fetch","method","then","res","json","setState","setText","e","textValue","target","value","addNew","body","JSON","stringify","response","console","log","componentDidUpdate","prevProps","prevState","componentDidMount","render","map","row","i","_id","title","checked"],"mappings":"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","sourcesContent":["import React from \"react\";\nimport AddToDo from './addToDo'\nimport Row from './row';\n\nvar headers = {\n    \"Content-Type\": \"application/json\",\n    \"Access-Control-Origin\": \"*\"\n}\n\nclass TodosPage2 extends React.Component {\n\n    state = {\n        data: []\n    }\n    constructor(props) {\n        super(props);\n        this.state = {\n            data: [],\n            textValue: ''\n        }\n    }\n\n    componentDidUpdate(prevProps, prevState){\n        // if(prevState.data !== this.state.data) {\n        //     this.getTodos()\n        // }\n        console.log(\"this.state: \", this.state)\n        console.log(\"prevState: \", prevState)\n    }\n\n    componentDidMount() {\n        console.log('DidMount')\n        this.getTodos()\n    }\n\n    getTodos = (initialCall) => {\n        fetch(\"https://todo-checkpoint-api.herokuapp.com/api/todos/mauricio\", {\n            method: \"GET\",\n            headers: headers\n        })\n            .then(res => res.json()).then(data => {\n                //add the data to component state\n                this.setState({ data });\n            });\n    }\n\n    setText = (e) => {\n        this.setState({\n            textValue: e.target.value\n        })\n    }\n\n    addNew = () => {\n        var data = {\n            \"title\": this.state.textValue,\n            \"checked\": \"false\"\n        }\n\n\n        fetch(\"https://todo-checkpoint-api.herokuapp.com/api/todos/mauricio\", {\n            method: \"POST\",\n            headers: headers,\n            body: JSON.stringify(data)\n        })\n            .then(function (response) {\n                return response.json();\n            })\n            .then(function (data) {\n                console.log(data)\n            });\n    }\n\n\n    render() {\n        console.log(\"this.state: \", this.state)\n        //when data loads, your component will render the rows of the data using array.map()\n        return (\n            <div>\n                <AddToDo textValue={this.state.textValue} addTodo={this.addNew} setText={this.setText} />\n                <br></br>\n                {this.state.data.map((row, i) => <Row id1={row._id} text11={row.title} isChecked={row.checked}></Row>)}\n            </div>\n        )\n    }\n}\n\nexport default TodosPage2;"]},"metadata":{},"sourceType":"module"}